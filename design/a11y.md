# Accessibility (A11y) Guidelines

## Fokus-Reihenfolge

### Tab-Reihenfolge
- **Natürliche Reihenfolge**: DOM-Reihenfolge folgen
- **Logische Navigation**: Von oben nach unten, links nach rechts
- **Skip-Links**: Direkte Navigation zu Hauptinhalt

### Skip-Links
```typescript
// Skip-Link für Hauptinhalt
<a href="#main-content" className="sr-only focus:not-sr-only">
  Zum Hauptinhalt springen
</a>
```

## Kontrast-Mindestwerte

### WCAG 2.1 AA Standards
- **Normal Text**: 4.5:1 Kontrast
- **Large Text**: 3:1 Kontrast (18pt+ oder 14pt+ bold)
- **UI Components**: 3:1 Kontrast

### Kontrast-Tests
```typescript
// Verwende Tools wie:
// - WebAIM Contrast Checker
// - Chrome DevTools Accessibility
// - axe-core für automatische Tests
```

## ARIA-Patterns

### Landmark-Rollen
```typescript
// Hauptbereiche der Seite
<header role="banner">
<nav role="navigation">
<main role="main">
<aside role="complementary">
<footer role="contentinfo">
```

### Live-Regions
```typescript
// Für dynamische Inhalte
<div aria-live="polite" aria-atomic="true">
  {/* Status-Updates */}
</div>
```

### Form-Labels
```typescript
// Immer Labels mit Inputs verbinden
<label htmlFor="username">Benutzername</label>
<input id="username" name="username" />

// Oder aria-label für komplexe Inputs
<input aria-label="Suchbegriff eingeben" />
```

## Tastatur-Nutzung

### Standard-Tastatur-Interaktionen
- **Tab**: Durch alle interaktiven Elemente navigieren
- **Enter/Space**: Buttons aktivieren
- **Arrow Keys**: Dropdowns, Slider, Tabs
- **Escape**: Modals schließen, Dropdowns schließen

### Custom-Tastatur-Interaktionen
```typescript
// Beispiel für Custom-Keyboard-Handling
useEffect(() => {
  const handleKeyDown = (event: KeyboardEvent) => {
    if (event.key === 'Escape') {
      onClose();
    }
  };
  
  document.addEventListener('keydown', handleKeyDown);
  return () => document.removeEventListener('keydown', handleKeyDown);
}, [onClose]);
```

## Screen Reader Support

### Semantische HTML
```typescript
// Verwende semantische HTML-Elemente
<button> statt <div role="button">
<nav> statt <div role="navigation">
<main> statt <div role="main">
```

### Alt-Text für Bilder
```typescript
// Beschreibender Alt-Text
<img src="logo.png" alt="Firmenlogo von [Firmenname]" />

// Dekorative Bilder
<img src="decoration.png" alt="" role="presentation" />
```

### Versteckte Texte
```typescript
// Für Screen Reader sichtbar, visuell versteckt
<span className="sr-only">Zusätzliche Informationen</span>
```

## Reduzierte Animationen

### prefers-reduced-motion
```css
/* Respektiere User-Präferenzen */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```

### JavaScript-Implementierung
```typescript
// Prüfe User-Präferenzen
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

if (!prefersReducedMotion) {
  // Animationen aktivieren
  enableAnimations();
}
```

## Fokus-Management

### Fokus-Trapping
```typescript
// Fokus in Modal halten
useEffect(() => {
  const focusableElements = modalRef.current?.querySelectorAll(
    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
  );
  
  if (focusableElements && focusableElements.length > 0) {
    (focusableElements[0] as HTMLElement).focus();
  }
}, []);
```

### Fokus-Restoration
```typescript
// Fokus nach Modal-Schließung wiederherstellen
const previousFocus = useRef<HTMLElement | null>(null);

useEffect(() => {
  previousFocus.current = document.activeElement as HTMLElement;
  
  return () => {
    if (previousFocus.current) {
      previousFocus.current.focus();
    }
  };
}, []);
```

## Color-Blindness Support

### Nicht nur auf Farbe verlassen
```typescript
// Verwende Icons + Text, nicht nur Farbe
<Badge variant="success" className="flex items-center gap-2">
  <CheckCircle className="h-4 w-4" />
  Erfolgreich
</Badge>
```

### Kontrast-Tests
- Teste mit Graustufen-Filtern
- Verwende Tools wie Color Oracle
- Stelle sicher, dass alle Informationen ohne Farbe verständlich sind

## Mobile Accessibility

### Touch-Targets
- **Mindestgröße**: 44x44px für Touch-Targets
- **Abstände**: Ausreichend Abstand zwischen interaktiven Elementen
- **Fokus-Indikatoren**: Sichtbar auch auf Touch-Geräten

### Gesten
```typescript
// Biete alternative Interaktionen an
// Swipe + Button-Clicks
// Pinch + Zoom-Buttons
// Long-Press + Kontext-Menüs
```

## Testing & Validation

### Automatische Tests
```typescript
// axe-core für automatische Accessibility-Tests
import { axe, toHaveNoViolations } from 'jest-axe';

expect.extend(toHaveNoViolations);

test('should not have accessibility violations', async () => {
  const { container } = render(<Component />);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

### Manuelle Tests
- **Tastatur-Navigation**: Alle Funktionen per Tastatur erreichbar
- **Screen Reader**: Mit NVDA, JAWS, VoiceOver testen
- **Kontrast**: Mit verschiedenen Kontrast-Tools prüfen
- **Zoom**: Bei 200% Zoom funktional

## Best Practices

### Allgemeine Richtlinien
1. **Semantisches HTML**: Verwende die richtigen HTML-Elemente
2. **ARIA-Labels**: Ergänze fehlende Informationen
3. **Kontrast**: Stelle ausreichenden Kontrast sicher
4. **Tastatur**: Alle Funktionen per Tastatur erreichbar
5. **Screen Reader**: Teste mit echten Screen Readern

### Checkliste
- [ ] Alle Bilder haben Alt-Text
- [ ] Alle Formulare haben Labels
- [ ] Alle Links haben beschreibenden Text
- [ ] Tastatur-Navigation funktioniert
- [ ] Kontrast erfüllt WCAG-Standards
- [ ] Screen Reader kompatibel
- [ ] Reduzierte Animationen respektiert
- [ ] Fokus-Indikatoren sichtbar
